{% extends "layout.html" %}
{% block content %}
	<div class='content-section'>
		<form method='POST' action=""> <!-- action= when we post go back to same route-->
			{{ form.hidden_tag() }} <!-- part of protection -->
			<fieldset class="form-group">
				<legend class="border-bottom mb-4">{{ legend }}</legend>
				<div class="row">
					<div class="col-md-6">
						<div class="form-group" autofocus>
							{{ form.codigo.label(class="form-control-label") }}<span class="red"> *</span>
							{% if form.codigo.errors %}
								{{ form.codigo(class="form-control form-control-sm is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.codigo.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.codigo(class="form-control form-control-sm", title="Ingresar 6 d√≠gitos: AAMMDD", type="number") }}
							{% endif %}
						</div>						
					</div>
					<div class="col-md-6">
						<div class="form-group">
							{{ form.tecnico.label(class="form-control-label") }}
							{% if form.tecnico.errors %}
								{{ form.tecnico(class="form-control form-control-sm is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.tecnico.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.tecnico(id="tecnico_select", class="select2 form-select form-select-sm") }}
							{% endif %}
						</div>
					</div>
				</div>
				<div class="form-group">
					{{ form.equipo.label(class="form-control-label") }}<span class="red"> *</span>
					{% if form.equipo.errors %}
						{{ form.equipo(class="form-control form-control-sm is-invalid") }}
						<div class="invalid-feedback">
							{% for error in form.equipo.errors %}
								<span>{{ error }}</span>
							{% endfor %}
						</div>
					{% else %}
						{{ form.equipo(id="equipo_select", class="select2 form-select form-select-sm") }}
					{% endif %}
				</div>
				<div class="form-group">
					<!-- boottrap  -->
					{{ form.content.label(class="form-control-label") }}<span class="red"> *</span>
					<!-- errores de entrada  -->
					{% if form.content.errors %}
						{{ form.content(class="form-control form-control-sm is-invalid") }}
						<div class="invalid-feedback">
							{% for error in form.content.errors %}
								<span>{{ error }}</span>
							{% endfor %}
						</div>
					{% else %}
						{{ form.content(class="form-control form-control-sm", rows='6') }}
					{% endif %}
				</div>
				<div class="form-group">
					<!-- boottrap  -->
					{{ form.materiales.label(class="form-control-label") }}
					<!-- errores de entrada  -->
					{% if form.materiales.errors %}
						{{ form.materiales(class="form-control form-control-sm is-invalid") }}
						<div class="invalid-feedback">
							{% for error in form.materiales.errors %}
								<span>{{ error }}</span>
							{% endfor %}
						</div>
					{% else %}
						{{ form.materiales(class="form-control form-control-sm", rows='3') }}
					{% endif %}
				</div>
				<div class="form-group">
					<!-- boottrap  -->
					{{ form.horas_trabajadas.label(class="form-control-label") }}
					<!-- errores de entrada  -->
					{% if form.horas_trabajadas.errors %}
						{{ form.horas_trabajadas(class="form-control form-control-sm is-invalid") }}
						<div class="invalid-feedback">
							{% for error in form.horas_trabajadas.errors %}
								<span>{{ error }}</span>
							{% endfor %}
						</div>
					{% else %}
						{{ form.horas_trabajadas(class="form-control form-control-sm") }}
					{% endif %}
				</div>
			</fieldset>
			<br>
			<div class="form-group">
				<!-- boottrap for the submit button  -->
				{{ form.submit(class="btn btn-outline-info", value="Crear / Actualizar") }}
			</div>
		</form>
	</div>	
	<script src="{{ url_for('static', filename='js/select_to_null.js') }}"></script>
	<script>
		$(document).ready(function() {
			limpiarSeleccion('#equipo_select');
			limpiarSeleccion('#tecnico_select');
		});
	</script>
{% endblock content %}
