{% extends "layout.html" %}


{% block content %}
	<div class='content-section'>
		<form method='POST' action="" enctype="multipart/form-data"> <!-- action= when we post go back to same route-->
			{{ form.hidden_tag() }} <!-- part of protection -->
			<fieldset class="form-group">
				<legend class="border-bottom mb-4">Registrar Usuario</legend>
				<div class="row">
					<div class="col-md-6">
						<div class="form-group">
							<!-- boottrap  -->
							{{ form.username.label(class="form-control-label") }}<span class="red"> *</span>
							<!-- errores de entrada  -->
							{% if form.username.errors %}
								{{ form.username(class="form-control form-control is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.username.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.username(class="form-control form-control") }}
							{% endif %}
						</div>
						<div class="form-group">
							{{ form.email.label(class="form-control-label") }}<span class="red"> *</span>
							{% if form.email.errors %}
								{{ form.email(class="form-control form-control is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.email.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.email(class="form-control form-control") }}
							{% endif %}
						</div>
						<div class="form-group">					
							{{ form.role.label(class="form-control-label") }}<span class="red"> *</span>					
							{% if form.role.errors %}
								{{ form.role(class="form-control form-control is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.role.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.role(id="select_role", class="select2 form-select form-select") }}
							{% endif %}
						</div>
					</div>
					<div class="col-md-6">
						
						<div class="form-group">
							<!-- boottrap  -->
							{{ form.password.label(class="form-control-label") }}<span class="red"> *</span>
							<!-- errores de entrada  -->
							{% if form.password.errors %}
								{{ form.password(class="form-control form-control is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.password.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.password(class="form-control form-control", title="La contrase√±a debe ser de al menos 4 caracteres") }}
							{% endif %}
						</div>
						<div class="form-group">
							<!-- boottrap  -->
							{{ form.confirm_password.label(class="form-control-label") }}<span class="red"> *</span>
							<!-- errores de entrada  -->
							{% if form.confirm_password.errors %}
								{{ form.confirm_password(class="form-control form-control is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.confirm_password.errors %}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.confirm_password(class="form-control form-control") }}
							{% endif %}
						</div>
					</div>
				</div>
			</fieldset>
			<br>
			<div class="form-group">
				<!-- boottrap for the submit button  -->
				{{ form.submit(class="btn btn-outline-info") }}
			</div>
		</form>
	</div>
	<script src="{{ url_for('static', filename='js/select_to_null.js') }}"></script>
	<script>
		$(document).ready(function() {
			limpiarSeleccion('#select_role');
		});
	</script>
{% endblock content %}
