{% extends "layout.html" %}
{% block content %}
    <h2>Órdenes de reparación</h2>
    <hr 80%>
    {% set pages = all_ordenes_reparacion.iter_pages(left_edge=3, right_edge=3, left_current=3, right_current=3) | list %}
    {% if pages|length > 1 %}
        {% for page_num in pages %}
            {% if page_num %}
                {% if all_ordenes_reparacion.page == page_num %}                
                    <a class="btn btn-info mb-4" href="{{ url_for('ordenes_reparacion.all_ordenes_reparacion', page=page_num) }}">{{ page_num }}</a>
                {% else %}
                    <a class="btn btn-outline-info mb-4" href="{{ url_for('ordenes_reparacion.all_ordenes_reparacion', page=page_num) }}">{{ page_num }}</a>
                {% endif %}
            {% endif %}
        {% endfor %}    
    {% endif %}    
    {% for orden_reparacion in all_ordenes_reparacion.items %}
        <article class="media content-section">
            <div class="row">
                <div class="col-md-10">
                  	<div class="media-body">
                    	<a class="article-title" href="{{ url_for('ordenes_reparacion.orden_reparacion', orden_reparacion_id=orden_reparacion.id) }}">
                           <h2>{{ orden_reparacion.codigo }}</h2>
                    	   <h5>{{ orden_reparacion.content }}</h5>                            
                        </a>
                    </div>
                </div>
                <div class="col-md-2 text-end">
                    <div class="d-grid">
                        {% if orden_reparacion.estado.descripcion == 'Creada' %}
                            <i class="btn btn-info btn-block btn-sm">{{ orden_reparacion.estado.descripcion }}</i>
                        {% elif orden_reparacion.estado.descripcion == 'Asignada' %}
                            <i class="btn btn-success btn-block btn-sm">{{ orden_reparacion.estado.descripcion }}</i>
                        {% elif orden_reparacion.estado.descripcion == 'Anulada' %}
                            <i class="btn btn-secondary btn-block btn-sm">{{ orden_reparacion.estado.descripcion }}</i>
                        {% elif orden_reparacion.estado.descripcion == 'Finalizada' %}
                            <i class="btn btn-dark btn-block btn-sm">{{ orden_reparacion.estado.descripcion }}</i>
                        {% else %}
                            <i class="btn btn-light btn-block btn-sm">{{ orden_reparacion.estado.descripcion }}</i>
                        {% endif %}
                    </div>
                </div>
            </div>
        </article>
    {% endfor %}
    {% if pages|length > 1 %}
        {% for page_num in pages %}
            {% if page_num %}
                {% if all_ordenes_reparacion.page == page_num %}
                    <a class="btn btn-info mb-4" href="{{ url_for('ordenes_reparacion.all_ordenes_reparacion', page=page_num) }}">{{ page_num }}</a>
                {% else %}
                    <a class="btn btn-outline-info mb-4" href="{{ url_for('ordenes_reparacion.all_ordenes_reparacion', page=page_num) }}">{{ page_num }}</a>
                {% endif %}
            {% endif %}
        {% endfor %}
    {% endif %}
{% endblock content %}